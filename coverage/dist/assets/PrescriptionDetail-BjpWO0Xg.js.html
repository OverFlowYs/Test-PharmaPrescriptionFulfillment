
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for dist/assets/PrescriptionDetail-BjpWO0Xg.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../index.html">All files</a> / <a href="index.html">dist/assets</a> PrescriptionDetail-BjpWO0Xg.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" >import{d as F,r as g,n as T,c as m,o as i,e as a,D as w,w as s,g as o,b as l,N as V,E as c,K as A,h as r,j as G,O as M,t as u,i as S,P as h}from"./index-HvR_NwB1.js";import{a as j,f as R}from"./prescriptions-WTvZcZwT.js";import"./client-CvWrZdCA.js";const U={key:0,style:{"text-align":"center",padding:"50px"}},$={key:1},H=F({__name:"PrescriptionDetail",setup(z){const D=V(),I=S(),p=g(!1),d=g(!1),n=g(null),_=async()=&gt;{const t=D.params.id;p.value=!0;try{n.value=await j(t)}catch(e){c.error(e?.message||"加载失败")}finally{p.value=!1}},b=async()=&gt;{try{await h.confirm("确认处理此处方？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}),d.value=!0;const t=await R(n.value.id);t.success?(c.success("处方处理成功"),await _()):c.error(`处理失败: ${t.errors?.join(", ")}`)}catch(t){t!=="cancel"&amp;&amp;c.error(t?.message||"处理失败")}finally{d.value=!1}},v=()=&gt;{I.push("/prescriptions")},x=t=&gt;{switch(t){case"PENDING":return"warning";case"FULFILLED":return"success";case"FAILED":return"danger";default:return"info"}},E=t=&gt;{switch(t){case"PENDING":return"待处理";case"FULFILLED":return"已处理";case"FAILED":return"处理失败";default:return t}},k=t=&gt;t?new Date(t).toLocaleString("zh-CN"):"-";return T(_),(t,e)=&gt;{const y=o("el-button"),B=o("el-page-header"),L=o("el-icon"),P=o("el-tag"),N=o("el-card"),f=o("el-table-column"),C=o("el-table");return i(),m("div",null,[a(B,{onBack:v,content:"处方详情"},{extra:s(()=&gt;[a(y,{onClick:v},{default:s(()=&gt;[...e[0]||(e[0]=[r("返回列表",-1)])]),_:1}),n.value?.status==="PENDING"?(i(),A(y,{key:0,type:"success",onClick:b,loading:d.value},{default:s(()=&gt;[...e[1]||(e[1]=[r(" 处理处方 ",-1)])]),_:1},8,["loading"])):w("",!0)]),_:1}),p.value?(i(),m("div",U,[a(L,{class:"is-loading"},{default:s(()=&gt;[a(G(M))]),_:1}),e[2]||(e[2]=l("p",null,"加载中...",-1))])):n.value?(i(),m("div",$,[a(N,{class:"mb-4"},{default:s(()=&gt;[e[8]||(e[8]=l("h3",null,"处方信息",-1)),l("p",null,[e[3]||(e[3]=l("strong",null,"处方ID:",-1)),r(" "+u(n.value.id),1)]),l("p",null,[e[4]||(e[4]=l("strong",null,"患者:",-1)),r(" "+u(n.value.patientName)+" ("+u(n.value.patientId)+")",1)]),l("p",null,[e[5]||(e[5]=l("strong",null,"药房:",-1)),r(" "+u(n.value.pharmacyName)+" ("+u(n.value.pharmacyId)+")",1)]),l("p",null,[e[6]||(e[6]=l("strong",null,"状态:",-1)),a(P,{type:x(n.value.status)},{default:s(()=&gt;[r(u(E(n.value.status)),1)]),_:1},8,["type"])]),l("p",null,[e[7]||(e[7]=l("strong",null,"创建时间:",-1)),r(" "+u(k(n.value.createdAt)),1)])]),_:1}),a(N,null,{header:s(()=&gt;[...e[9]||(e[9]=[l("h4",null,"请求的药品",-1)])]),default:s(()=&gt;[a(C,{data:n.value.drugs,style:{width:"100%"}},{default:s(()=&gt;[a(f,{prop:"drugId",label:"药品ID",width:"100"}),a(f,{prop:"drugName",label:"药品名称"}),a(f,{prop:"dosage",label:"剂量",width:"100"})]),_:1},8,["data"])]),_:1})])):w("",!0)])}}});export{H as default};<span class="fstat-no" title="function not covered" ><span class="branch-0 cbranch-no" title="branch not covered" ></span></span></span>
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-09-19T08:56:50.992Z
            </div>
        <script src="../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../sorter.js"></script>
        <script src="../../block-navigation.js"></script>
    </body>
</html>
    